<odoo>
  <record id="view_res_config_settings_cfdi_sw" model="ir.ui.view">
    <field name="name">res.config.settings.view.form.cfdi.sw</field>
    <field name="model">res.config.settings</field>
    <field name="inherit_id" ref="base_setup.res_config_settings_view_form"/>
    <field name="arch" type="xml">
      <xpath expr="//form" position="inside">
        <group string="CFDI MX (SW)" col="2" name="cfdi_sw_group">

          <separator string="Conexión" colspan="2"/>
          <!-- Si tienes el campo proveedor, déjalo; si no, quítalo -->
          <!-- <field name="mx_cfdi_provider"/> -->
          <field name="mx_cfdi_sw_sandbox"/>
          <field name="mx_cfdi_sw_base_url" placeholder="https://services.test.sw.com.mx"/>

          <button name="action_test_sw" type="object" string="Probar conexión" class="btn-primary" colspan="2"/>

          <separator string="Credenciales" colspan="2"/>
          <field name="mx_cfdi_sw_token" password="True" placeholder="Bearer token" colspan="2"/>

          <!-- Ocultar user/pass cuando HAYA token -->
          <field name="mx_cfdi_sw_user" invisible="mx_cfdi_sw_token"/>
          <field name="mx_cfdi_sw_password" password="True" invisible="mx_cfdi_sw_token"/>

          <separator string="CSD (PEM)" colspan="2"/>
          <field name="mx_cfdi_sw_rfc"/>
          <field name="mx_cfdi_sw_key_password" password="True"/>
          <field name="mx_cfdi_sw_cer_pem" widget="text" colspan="2"
                 style="min-height:160px; white-space:pre; font-family:monospace;"/>
          <field name="mx_cfdi_sw_key_pem" widget="text" colspan="2"
                 style="min-height:160px; white-space:pre; font-family:monospace;"/>

        </group>
      </xpath>
    </field>
  </record>
</odoo>
