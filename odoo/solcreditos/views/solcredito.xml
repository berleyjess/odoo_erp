<odoo>
    <!-- Acción de Menú (DEBE IR PRIMERO) -->
    <record id="action_asignaciones" model="ir.actions.act_window">
        <field name="name">Asignaciones</field>
        <field name="res_model">solcreditos.solcredito</field>
        <field name="view_mode">list,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">Crea tu primer asignacion</p>
        </field>
    </record>

    <!-- Vista árbol -->
    <record id="view_asignacion_list" model="ir.ui.view">
        <field name="name">asignacion.tree</field>
        <field name="model">solcreditos.solcredito</field>
        <field name="arch" type="xml">
            <list>
                <field name="cliente"/>
                <field name="contrato"/>
            </list>
        </field>
    </record>

    <!-- Vista formulario -->
    <record id="view_asignacion_form" model="ir.ui.view">
        <field name="name">asignacion.form</field>
        <field name="model">solcreditos.solcredito</field>
        <field name="arch" type="xml">
            <form autosave="False">
                <sheet>
                    <group>
                        <field name="cliente"/>
                        <field name="ciclo"/>
                        <field name="contrato"/>
                        <field name="titular" widget="radio" options="{'horizontal': true}"/>
                        <field name="monto"
                        readonly = "contrato.tipocredito != '2'"/>
                        <field name="vencimiento"
                        readonly="contrato.tipocredito != '2'"/>
                        <field name="superficie" 
                        readonly="contrato.tipocredito == '0'"
                        invisible = "contrato.tipocredito == '2'"/>
                    </group>
                    <group name="datos_obligado" string="Obligado Solidario">
                        <field name="obligado"/> 
                        <field name="obligadodomicilio"/>
                        <field name="obligadoRFC"/>
                    </group>
                    <group>
                        <field name="predios" widget="one2many_list" context="{'default_solcredito_id': id}"
                        invisible = "contrato.tipocredito != '0'"/>
                    </group>

                </sheet>
            </form>
        </field>
    </record>

    <!-- Menús -->
    <menuitem id="menu_root" name="Solicitudes de Créditos" sequence="10"/>
    <menuitem id="menu_action" name="Catálogo de Solicitudes" parent="menu_root" action="action_asignaciones"/>
</odoo>
